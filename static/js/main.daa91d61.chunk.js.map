{"version":3,"sources":["components/ProtectedRoute.js","utils/auth.js","contexts/CurrentUserContext.js","images/header-logo.svg","components/Header.js","components/Card.js","components/Loader.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","utils/constants.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/api.js","images/profile-avatar.jpg","utils/cards-init.js","images/photo-grid-peterhof-4.jpg","images/photo-grid-peterhof-3.jpg","images/photo-grid-peterhof-1.jpg","images/photo-grid-oranienbaum-1.jpg","images/photo-grid-aleksandria.jpg","images/photo-grid-peterhof.jpg","screens/HomePage.js","screens/Login.js","screens/Register.js","screens/NotFound.js","components/InfoTooltip.js","images/reg-success.svg","images/reg-failure.svg","components/App.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","BASE_URL","handleResponse","res","ok","json","Promise","reject","status","CurrentUserContext","React","createContext","Header","className","src","headerLogo","alt","children","Card","card","onClick","onLike","onDelete","currentUser","useContext","isOwned","owner","_id","link","title","likes","length","disabled","hidden","Loader","Main","onEditAvatar","avatar","name","onEditProfile","about","onAddPlace","isLoading","cards","map","onCardClick","onCardLike","onCardDelete","id","Footer","PopupWithForm","openClass","isOpen","handleCloseClick","onClose","handleEscPress","useCallback","evt","key","useEffect","document","addEventListener","removeEventListener","target","currentTarget","type","size","onSubmit","value","submitDisabled","submitName","popupInputClass","EditProfilePopup","useState","isValid","info","inputs","setInputs","input","error","errorClasses","setErrorClasses","errorMessages","setErrorMessages","handleChange","e","validity","valid","handleInput","validationMessage","preventDefault","onUpdateUser","maxLength","minLength","placeholder","required","onChange","onInput","EditAvatarPopup","inputRef","useRef","errorMessage","setErrorMessage","isSubmitDisabled","setIsSubmitDisabled","current","onUpdateAvatar","ref","pattern","AddPlacePopup","ImagePopup","popupOpenClass","setPopupOpenClass","ConfirmPopup","onConfirm","api","baseUrl","headers","this","_baseUrl","_headers","fetch","method","then","_handleResponse","item","body","JSON","stringify","data","cardId","authorization","initialCards","HomePage","profileAvatar","setCurrentUser","setCards","selectedCard","setSelectedCard","deletedCard","setDeletedCard","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","profileSubmitName","setProfileSubmitName","avatarSubmitName","setAvatarSubmitName","addPlaceSubmitName","setAddPlaceSubmitName","deleteCardSubmitName","setDeleteCardSubmitName","setIsLoading","all","getUserInfo","getInitialCards","userData","cardsData","catch","console","log","finally","Provider","email","onLogout","isLiked","some","likeAuthor","likeAction","unlikeCard","likeCard","changedCard","newCards","currentCard","err","patchUserProfile","newAvatarLink","patchNewAvatar","newPlace","postNewCard","newCard","deleteCard","filter","Login","setEmail","password","setPassword","auth","token","localStorage","setItem","onLogin","history","push","event","Register","onRegister","NotFound","InfoToolTip","imageLink","textMessage","App","setLoggedIn","isPopupOpen","setIsPopupOpen","image","text","resultMessage","setResultMessage","useHistory","tokenCheck","getItem","jwt","path","removeItem","resultCode","messageText","regFailure","regSuccess","exact","InfoTooltip","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.daa91d61.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const handleResponse = (res) => {\r\n  if (res.ok) return res.json();\r\n  return Promise.reject(res.status);\r\n};\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n  .then((res) => handleResponse(res));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((res) => handleResponse(res));\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then((res) => handleResponse(res));\r\n};\r\n\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport headerLogo from '../images/header-logo.svg';\r\n\r\nconst Header = (props) => (\r\n\r\n  <header className=\"header\">\r\n\r\n    <img className=\"header__logo\" src={headerLogo}\r\n      alt='Логотип сервиса Mesto-Russia'/>\r\n\r\n    <nav className=\"nav-menu\">\r\n      {props.children}\r\n    </nav>\r\n\r\n  </header>\r\n\r\n);\r\n\r\nexport default Header;\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onClick, onLike, onDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwned = card.owner === currentUser._id;\r\n\r\n  const handleClick = () => {\r\n    onClick(card);\r\n  };\r\n\r\n  const handleLike = () => {\r\n    onLike(card);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    onDelete(card);\r\n  };\r\n\r\n  return(\r\n    <li className=\"card\">\r\n      <img \r\n        className=\"card__image\" \r\n        src={card.link} \r\n        alt={card.title} \r\n        onClick={handleClick} \r\n      />\r\n      <div className=\"card__description\">\r\n        <h2 className=\"card__title\">{card.title}</h2>\r\n        <div className=\"card__like-group\">\r\n          <button \r\n            className={\r\n              `card__btn card__btn_action_like shaded \r\n              ${card.likes.length > 0  ? 'card__btn_clicked' : ''}`\r\n            }\r\n            onClick={handleLike}\r\n            title=\"Нравится\" \r\n          />\r\n          <span className=\"card__like-num\">\r\n            {card.likes.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <button \r\n        className=\"card__btn card__btn_action_del shaded\" \r\n        disabled={!isOwned} hidden={!isOwned}\r\n        onClick={handleDelete}\r\n        title=\"Удалить\"\r\n      />\r\n    </li>\r\n  );\r\n\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loader\"/>\r\n  );\r\n};\r\n\r\nexport default Loader;","import React, {useContext} from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\nimport Loader from './Loader';\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return(\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n\r\n        <div className=\"profile__avatar\" onClick={props.onEditAvatar}>\r\n          <img \r\n            src={currentUser.avatar} \r\n            className=\"profile__image\" \r\n            alt=\"Аватар профиля\" \r\n            title=\"Изменить аватар профиля\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"profile__description\">\r\n          <h1 className=\"profile__name\">\r\n            {currentUser.name}\r\n          </h1>\r\n          <button \r\n            className=\"profile__btn profile__btn_action_edit shaded\"\r\n            title=\"Редактировать профиль\" \r\n            onClick={props.onEditProfile} \r\n          />\r\n          <p className=\"profile__work\">{currentUser.about}</p>\r\n        </div>\r\n\r\n        <button \r\n          className=\"profile__btn profile__btn_action_add shaded\" \r\n          onClick={props.onAddPlace} \r\n          title=\"Добавить фотографию\" \r\n        />\r\n      </section>\r\n\r\n      <section className=\"photo-grid\">\r\n      { props.isLoading \r\n        ? <Loader/>\r\n        : <ul className=\"photo-grid__list\">\r\n            {props.cards.map((card) => (\r\n              <Card key={card.id}\r\n                card={card} \r\n                onClick={props.onCardClick}\r\n                onLike={props.onCardLike}\r\n                onDelete={props.onCardDelete}\r\n              />\r\n            ))}        \r\n          </ul>\r\n      } \r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nconst Footer = () => (\r\n  <footer className=\"footer\">\r\n    <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n  </footer>\r\n);\r\n\r\nexport default Footer;","import React, { useEffect, useCallback } from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const openClass = props.isOpen && 'popup_opened';\r\n\r\n  const handleCloseClick = props.onClose;\r\n\r\n  const handleEscPress = useCallback((evt) => {\r\n    if (evt.key === 'Escape') handleCloseClick();\r\n  }, [handleCloseClick]);\r\n\r\n  useEffect(() => {\r\n    if (props.isOpen) {\r\n      document.addEventListener('keyup', handleEscPress);\r\n    } else {\r\n      document.removeEventListener('keyup', handleEscPress);\r\n    };\r\n  }, [props.isOpen, handleEscPress]);\r\n\r\n  const handleOverlayClick = (evt) => {\r\n    if (evt.target === evt.currentTarget) handleCloseClick();\r\n  };\r\n\r\n  return(\r\n    <div\r\n      className={`popup popup_content_${props.name} ${openClass}`}\r\n      onClick={handleOverlayClick}\r\n    >\r\n    <div className=\"popup__container\">\r\n\r\n      <button\r\n        type=\"button\"\r\n        className=\"popup__btn popup__btn_action_close shaded\"\r\n        title=\"Закрыть форму без сохранения данных\"\r\n        onClick={handleCloseClick}\r\n      />\r\n\r\n      <form\r\n        name={props.name}\r\n        className={`popup__form popup__form_size_${props.size}`}\r\n        onSubmit={props.onSubmit}\r\n      >\r\n          <h3 className=\"popup__heading\">\r\n            {props.title}\r\n          </h3>\r\n\r\n          {props.children}\r\n\r\n          <button\r\n            type=\"submit\" value=\"Создать\"\r\n            disabled={props.submitDisabled}\r\n            className=\"popup__btn popup__btn_action_submit\"\r\n          >\r\n              {props.submitName}\r\n          </button>\r\n\r\n      </form>\r\n    </div>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","\r\n// Используется при валидации форм\r\nexport const popupInputClass = {\r\n  inputError: 'popup__item_type_error',\r\n  error: 'popup__error_visible',\r\n};\r\n\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {popupInputClass} from '../utils/constants';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const [inputs, setInputs] = useState({\r\n    name: { value: currentUser.name, isValid: true, },\r\n    info: { value: currentUser.about, isValid: true, },\r\n  });\r\n\r\n  const [errorClasses, setErrorClasses] = useState({\r\n    name: { input: '', error: '', }, \r\n    info: {  input: '', error: '', },\r\n  });\r\n\r\n  const [errorMessages, setErrorMessages] = useState({name: '', info: ''});\r\n\r\n  useEffect(() => {\r\n    if (props.isOpen) {\r\n      setInputs({ \r\n        name: { value: currentUser.name, isValid: true, },\r\n        info: { value: currentUser.about, isValid: true, },\r\n      });      \r\n    } else {\r\n      setInputs({ \r\n        name: { value: '', isValid: false, },\r\n        info: { value: '', isValid: false, },\r\n      });\r\n    }\r\n    setErrorClasses({\r\n      name: { input: '', error: '', }, \r\n      info: { input: '', error: '', },\r\n    });\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  const handleChange = (e) => {\r\n    const {name, value, validity} = e.target;\r\n    setInputs({...inputs, [name]: { value: value, isValid: validity.valid, }});\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const {name, value, validity, validationMessage} = e.target;\r\n    setInputs({...inputs, [name]: { value: value, isValid: validity.valid, }});\r\n    setErrorMessages({...errorMessages, [name]: validationMessage});\r\n    setErrorClasses({...errorClasses,\r\n      [name]: { \r\n        input: !validity.valid ? popupInputClass.inputError : '', \r\n        error: !validity.valid ? popupInputClass.error : '', \r\n      }, \r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onUpdateUser({ name: inputs.name.value, info: inputs.info.value });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"profile\" size=\"l\" \r\n      title=\"Редактировать профиль\" \r\n      submitName={props.submitName} \r\n      submitDisabled={!inputs.name.isValid || !inputs.info.isValid}\r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input type=\"text\" \r\n          id=\"name\" name=\"name\" \r\n          className={`popup__item popup__item_type_name ${errorClasses.name.input}`} \r\n          maxLength=\"40\" minLength=\"2\" \r\n          placeholder=\"Имя\" required\r\n          value={inputs.name.value}\r\n          onChange={handleChange}\r\n          onInput={handleInput}\r\n        />\r\n        <span \r\n          className={`popup__error ${errorClasses.name.error}`} \r\n          id=\"name-error\"\r\n        >\r\n          {errorMessages.name}\r\n        </span>\r\n      </label>\r\n\r\n      <label className=\"popup__field\">\r\n        <input type=\"text\" \r\n          id=\"info\" name=\"info\" \r\n          className={`popup__item popup__item_type_info ${errorClasses.info.input}`} \r\n          maxLength=\"200\" minLength=\"2\" \r\n          placeholder=\"О себе\" required\r\n          value={inputs.info.value}\r\n          onChange={handleChange}\r\n          onInput={handleInput}\r\n        />\r\n        <span \r\n          className={`popup__error ${errorClasses.info.error}`} \r\n          id=\"info-error\"\r\n        >\r\n          {errorMessages.info}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm> \r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, {useContext, useEffect, useRef, useState} from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {popupInputClass} from '../utils/constants';\r\n\r\n// Редактирование пользователького аватара\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const inputRef = useRef();\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [errorClasses, setErrorClasses] = useState({input: '', error: '', });\r\n  const [isSubmitDisabled, setIsSubmitDisabled] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (props.isOpen) {\r\n      inputRef.current.value = currentUser.avatar;\r\n      setIsSubmitDisabled(false);\r\n    } else {\r\n      inputRef.current.value = '';\r\n      setIsSubmitDisabled(true);\r\n    };\r\n    setErrorMessage('');\r\n    setErrorClasses({input: '', error: '', });\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar(inputRef.current.value);\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const {validity, validationMessage} = e.target;\r\n    setErrorMessage(validationMessage);\r\n    setErrorClasses({\r\n      input: !validity.valid ? popupInputClass.inputError : '', \r\n      error: !validity.valid ? popupInputClass.error : '', \r\n    });\r\n    setIsSubmitDisabled(!validity.valid);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"avatar\" size=\"m\" \r\n      title=\"Обновить аватар\" \r\n      submitName={props.submitName} \r\n      submitDisabled={isSubmitDisabled}      \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input type=\"url\" ref={inputRef}\r\n          id=\"avatar\" name=\"avatar\" \r\n          pattern=\"https?://.+\" \r\n          className={`popup__item popup__item_type_name ${errorClasses.input}`}  \r\n          placeholder=\"Ссылка на картинку\" \r\n          required\r\n          onInput={handleInput}\r\n        />\r\n        <span\r\n          className={`popup__error ${errorClasses.error}`}  \r\n          id=\"avatar-error\"\r\n        >\r\n          {errorMessage}\r\n        </span>  \r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, {useState, useEffect} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {popupInputClass} from '../utils/constants';\r\n\r\n// Добавление карточки\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [inputs, setInputs] = useState({ \r\n    title: { value: '', isValid: true, },\r\n    link: { value: '', isValid: true, },\r\n  });\r\n\r\n  const [errorClasses, setErrorClasses] = useState({\r\n    title: { input: '', error: '', }, \r\n    link: {  input: '', error: '', },\r\n  });\r\n\r\n  const [errorMessages, setErrorMessages] = useState({title: '', link: ''});\r\n\r\n  useEffect(() => {\r\n    setInputs({ \r\n      title: { value: '', isValid: false, },\r\n      link: { value: '', isValid: false, },\r\n    });\r\n    setErrorClasses({\r\n      title: { input: '', error: '', }, \r\n      link: { input: '', error: '', },\r\n    });\r\n  }, [props.isOpen]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onAddPlace({title: inputs.title.value, link: inputs.link.value});\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const {name, value, validity} = e.target;\r\n    setInputs({...inputs, [name]: { value: value, isValid: validity.valid, }});\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const {name, value, validity, validationMessage} = e.target;\r\n    setInputs({...inputs, [name]: { value: value, isValid: validity.valid, }});\r\n    setErrorMessages({...errorMessages, [name]: validationMessage});\r\n    setErrorClasses({...errorClasses,\r\n      [name]: { \r\n        input: !validity.valid ? popupInputClass.inputError : '', \r\n        error: !validity.valid ? popupInputClass.error : '', \r\n      }, \r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"card\" size=\"l\" \r\n      title=\"Новое место\" \r\n      submitName={props.submitName} \r\n      submitDisabled={!inputs.title.isValid || !inputs.link.isValid}\r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input type=\"text\"\r\n          id=\"title\" name=\"title\" \r\n          maxLength=\"30\" minLength=\"1\" \r\n          className={`popup__item popup__item_type_name ${errorClasses.title.input}`} \r\n          placeholder=\"Название\" \r\n          required\r\n          value={inputs.title.value}\r\n          onChange={handleChange}\r\n          onInput={handleInput}\r\n        />\r\n        <span \r\n          className={`popup__error ${errorClasses.title.error}`} \r\n          id=\"title-error\"\r\n        >\r\n          {errorMessages.title}\r\n        </span>\r\n      </label>\r\n\r\n      <label className=\"popup__field\">\r\n        <input type=\"url\"\r\n          id=\"link\" name=\"link\" \r\n          pattern=\"https?://.+\" \r\n          className={`popup__item popup__item_type_info ${errorClasses.link.input}`} \r\n          placeholder=\"Ссылка на картинку\" \r\n          required\r\n          value={inputs.link.value}\r\n          onChange={handleChange}\r\n          onInput={handleInput}\r\n        />\r\n        <span \r\n          className={`popup__error ${errorClasses.link.error}`} \r\n          id=\"link-error\"\r\n        >\r\n          {errorMessages.link}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React, { useState, useEffect } from 'react';\r\n\r\n// Всплывающее окно просмотра фотографии\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  const [popupOpenClass, setPopupOpenClass] = useState('');\r\n\r\n  const handleCloseClick = () => {\r\n    setPopupOpenClass('');\r\n    onClose();\r\n  }\r\n\r\n  const handleOverlayClick = (evt) => {\r\n    if (evt.target === evt.currentTarget) handleCloseClick();\r\n  };\r\n\r\n  // Создание всплывающего окна\r\n  useEffect(() => {\r\n\r\n    const handleEscPress = (evt) => {\r\n      if (evt.key === 'Escape') handleCloseClick();\r\n    };\r\n\r\n    // Добавляем обработку нажатия ESC\r\n    document.addEventListener('keyup', handleEscPress);\r\n    // Делаем окно видимым\r\n    setPopupOpenClass('popup_opened');\r\n\r\n    // Удаление всплывающего окна\r\n    return (() => {\r\n      // Удаляем обработчик нажатия ESC\r\n      document.removeEventListener('keyup', handleEscPress);\r\n    });\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return(\r\n    <div \r\n      className={`popup popup_content_image ${popupOpenClass}`}\r\n      onClick={handleOverlayClick}\r\n    >\r\n      <div \r\n        className=\"popup__image-box\"\r\n      >\r\n        <button \r\n          type=\"button\" \r\n          className=\"popup__btn popup__btn_action_close shaded\"\r\n          title=\"Закрыть окно просмотра\"\r\n          onClick={handleCloseClick} \r\n        />\r\n\r\n        <figure \r\n          className=\"popup__figure\"\r\n        >\r\n          <img \r\n            className=\"popup__image\" \r\n            src={card.link} \r\n            alt={card.title}\r\n          />\r\n          <figcaption \r\n            className=\"popup__image-caption\"\r\n          >\r\n            {card.title}\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n// Всплывающее окно подтверждения действия\r\n\r\nfunction ConfirmPopup(props) {\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onConfirm(props.card);\r\n  };\r\n\r\n  return(\r\n    <PopupWithForm \r\n      name=\"confirm\" size=\"s\" \r\n      title=\"Вы уверены?\"\r\n      submitName={props.submitName}\r\n      submitDisabled={false}\r\n      isOpen={props.card} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;","//--------------------------------------------------------------------------------------\r\n// Модуль api.js\r\n// Класс Api\r\n//--------------------------------------------------------------------------------------\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) return res.json();\r\n    return Promise.reject(res.status);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(res => this._handleResponse(res));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(res => this._handleResponse(res));\r\n  }\r\n\r\n  postNewCard(item) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(item)\r\n    })\r\n    .then(res => this._handleResponse(res));\r\n  }\r\n\r\n  patchNewAvatar(link) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(link)\r\n    })\r\n    .then(res => this._handleResponse(res));\r\n  }\r\n\r\n  patchUserProfile(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({name: data.name, about: data.info})\r\n    })\r\n    .then(res => this._handleResponse(res));\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(res => this._handleResponse(res));\r\n  }\r\n\r\n  unlikeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(res => this._handleResponse(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(res => this._handleResponse(res));\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n  headers: {\r\n    authorization: '963ba2cb-ffe5-4800-9828-03d0e9a57e68',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;\r\n","export default __webpack_public_path__ + \"static/media/profile-avatar.5024594e.jpg\";","// Начальные значения карточек\r\n// Массив используется, если данные не загрузились с сервера\r\n\r\nimport peterhofImage4 from '../images/photo-grid-peterhof-4.jpg';\r\nimport peterhofImage3 from '../images/photo-grid-peterhof-3.jpg';\r\nimport peterhofImage1 from '../images/photo-grid-peterhof-1.jpg';\r\nimport oranienbaumImage from '../images/photo-grid-oranienbaum-1.jpg';\r\nimport alexandriaImage from '../images/photo-grid-aleksandria.jpg';\r\nimport peterhofImage from '../images/photo-grid-peterhof.jpg';\r\n\r\nexport const initialCards = [\r\n  { title: 'Петергоф', link: peterhofImage4, likes: [], owner: 0, id: 1 },\r\n  { title: 'Петергоф', link: peterhofImage3, likes: [], owner: 0, id: 2 },\r\n  { title: 'Петергоф', link: peterhofImage1, likes: [], owner: 0, id: 3 },\r\n  { title: 'Ораниенбаум', link: oranienbaumImage, likes: [], owner: 0, id: 4 },\r\n  { title: 'Парк Александрия', link: alexandriaImage, likes: [], owner: 0, id: 5 },\r\n  { title: 'Петергоф', link: peterhofImage, likes: [], owner: 0, id: 6 }\r\n];\r\n\r\n","export default __webpack_public_path__ + \"static/media/photo-grid-peterhof-4.947a5379.jpg\";","export default __webpack_public_path__ + \"static/media/photo-grid-peterhof-3.d5249dfb.jpg\";","export default __webpack_public_path__ + \"static/media/photo-grid-peterhof-1.57bdf3c4.jpg\";","export default __webpack_public_path__ + \"static/media/photo-grid-oranienbaum-1.48084ea7.jpg\";","export default __webpack_public_path__ + \"static/media/photo-grid-aleksandria.504811f3.jpg\";","export default __webpack_public_path__ + \"static/media/photo-grid-peterhof.8dd60d68.jpg\";","import React, {useState, useEffect} from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Header from '../components/Header';\r\nimport Main from '../components/Main';\r\nimport Footer from '../components/Footer';\r\n\r\nimport EditProfilePopup from '../components/EditProfilePopup';\r\nimport EditAvatarPopup from '../components/EditAvatarPopup';\r\nimport AddPlacePopup from '../components/AddPlacePopup';\r\nimport ImagePopup from '../components/ImagePopup';\r\nimport ConfirmPopup from '../components/ConfirmPopup';\r\n\r\nimport api from '../utils/api';\r\nimport profileAvatar from '../images/profile-avatar.jpg';\r\nimport {initialCards} from '../utils/cards-init';\r\n\r\nfunction HomePage(props) {\r\n  const [currentUser, setCurrentUser] = useState({\r\n    _id: 0,\r\n    name: 'Екатерина',\r\n    about: '(без доступа в сеть)',\r\n    avatar: profileAvatar,\r\n  });\r\n\r\n  const [cards, setCards] = useState(initialCards);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [deletedCard, setDeletedCard] = useState(null);\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n\r\n  const [profileSubmitName, setProfileSubmitName] = useState('Сохранить');\r\n  const [avatarSubmitName, setAvatarSubmitName] = useState('Сохранить');\r\n  const [addPlaceSubmitName, setAddPlaceSubmitName] = useState('Создать');\r\n  const [deleteCardSubmitName, setDeleteCardSubmitName] = useState('Да');\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Читаем данные с сервера\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n    .then(([userData, cardsData]) => {\r\n\r\n      setCurrentUser({\r\n        _id: userData._id,\r\n        name: userData.name,\r\n        about: userData.about,\r\n        avatar: userData.avatar\r\n      });\r\n\r\n      setCards(cardsData.map(item => {\r\n        return {\r\n          title: item.name,\r\n          link: item.link,\r\n          likes: item.likes,\r\n          owner: item.owner._id,\r\n          id: item._id\r\n        };\r\n      }));\r\n    })\r\n    .catch((error) => {\r\n      console.log(`Ошибка загрузки данных: ${error}.`);\r\n    })\r\n    .finally(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  // Обновление информации о пользователе на сервере\r\n  const handleUpdateUser = ({name, info}) => {\r\n    setProfileSubmitName('Сохранение...');\r\n    api.patchUserProfile({name, info})\r\n      .then((res) => {\r\n        console.log(`Информация о пользователе сохранена.`);\r\n        setCurrentUser({...currentUser, name: res.name, about: res.about});\r\n        setEditProfilePopupOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Невозможно сохранить данные на сервере. ${err}.`);\r\n      })\r\n      .finally(() => {\r\n        setProfileSubmitName('Сохранить');\r\n      });\r\n  };\r\n\r\n  // Обновление пользовательского аватара на сервере\r\n  const handleUpdateAvatar = (newAvatarLink) => {\r\n    setAvatarSubmitName('Сохранение...');\r\n    api.patchNewAvatar({avatar: newAvatarLink})\r\n    .then((res) => {\r\n      setCurrentUser({...currentUser, avatar: res.avatar});\r\n      setEditAvatarPopupOpen(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Невозможно обновить аватар на сервере. ${err}.`);\r\n    })\r\n    .finally(() => {\r\n      setAvatarSubmitName('Сохранить');\r\n    });\r\n  };\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = (card.likes.some(\r\n      likeAuthor => likeAuthor._id === currentUser._id\r\n    ));\r\n    const likeAction = isLiked ? 'удалить' : 'поставить';\r\n    const likeFunc = isLiked ? id => api.unlikeCard(id) : id => api.likeCard(id);\r\n\r\n    // Ставим или удаляем лайк в зависимости от его текущего состояния\r\n    likeFunc(card.id)\r\n      .then((res) => {\r\n        // Если запрос выполнен успешно, создаем новую карточку\r\n        const changedCard = {\r\n          title: res.name,\r\n          link: res.link,\r\n          likes: res.likes,\r\n          owner: res.owner._id,\r\n          id: res._id\r\n        };\r\n        // Выполняем замену карточки\r\n        const newCards = cards.map((currentCard) => (\r\n          currentCard.id === card.id ? changedCard : currentCard\r\n        ));\r\n        // Обновляем состояние\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Невозможно ${likeAction} лайк. Ошибка ${err}.`);\r\n      });\r\n  };\r\n\r\n  // Удаление карточки\r\n  const handleDeleteButtonClick = (card) => {\r\n    setDeletedCard(card);\r\n  };\r\n\r\n  const handleCardDelete = (card) => {\r\n    setDeleteCardSubmitName('Удаление...');\r\n    api.deleteCard(card.id)\r\n      .then((res) => {\r\n        // Исключаем из массива удаленную карточку\r\n        const newCards = cards.filter((currentCard) => (\r\n          currentCard.id !== card.id\r\n        ));\r\n        // Обновляем состояние\r\n        setCards(newCards);\r\n        console.log(`Карточка ${card.id} удалена.`);\r\n        setDeletedCard(null);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Невозможно удалить карточку. Ошибка ${err}.`);\r\n      })\r\n      .finally(() => {\r\n        setDeleteCardSubmitName('Да');\r\n      });\r\n  };\r\n\r\n  const handleAddPlace = (newPlace) => {\r\n    setAddPlaceSubmitName('Сохранение...');\r\n    api.postNewCard({name: newPlace.title, link: newPlace.link})\r\n      .then((res) => {\r\n        const newCard = {\r\n          title: res.name,\r\n          link: res.link,\r\n          likes: res.likes,\r\n          owner: res.owner._id,\r\n          id: res._id\r\n        };\r\n        setCards([newCard, ...cards]);\r\n        setAddPlacePopupOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Невозможно сохранить карточку на сервере. Ошибка ${err}.`);\r\n      })\r\n      .finally(() => {\r\n        setAddPlaceSubmitName('Создать');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header>\r\n          <p className=\"nav-menu__text nav-menu__text_type_email\">\r\n            {props.email}\r\n          </p>\r\n          <p className=\"nav-menu__text\" onClick={props.onLogout}>\r\n            Выйти\r\n          </p>\r\n        </Header>\r\n        <Main\r\n          onEditProfile={() => setEditProfilePopupOpen(true)}\r\n          onAddPlace={() => setAddPlacePopupOpen(true)}\r\n          onEditAvatar={() => setEditAvatarPopupOpen(true)}\r\n          onCardClick={(card) => setSelectedCard(card)}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleDeleteButtonClick}\r\n          cards={cards}\r\n          isLoading={isLoading}\r\n        />\r\n        <Footer />\r\n\r\n        {/* Просмотр фотографии */}\r\n        { selectedCard &&\r\n          <ImagePopup\r\n            card={selectedCard}\r\n            onClose={ () => setSelectedCard(null) }\r\n          />\r\n        }\r\n        {/* Редактирование профиля пользователя */}\r\n        <EditProfilePopup\r\n          submitName={profileSubmitName}\r\n          isOpen={isEditProfilePopupOpen}\r\n          onUpdateUser={handleUpdateUser}\r\n          onClose={() => setEditProfilePopupOpen(false)}\r\n        />\r\n\r\n        {/* Обновление аватара пользователя */}\r\n        <EditAvatarPopup\r\n          submitName={avatarSubmitName}\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          onClose={() => setEditAvatarPopupOpen(false)}\r\n        />\r\n\r\n        {/* Добавление карточки */}\r\n        <AddPlacePopup\r\n          submitName={addPlaceSubmitName}\r\n          isOpen={isAddPlacePopupOpen}\r\n          onAddPlace={handleAddPlace}\r\n          onClose={() => setAddPlacePopupOpen(false)}\r\n        />\r\n\r\n        <ConfirmPopup\r\n          submitName={deleteCardSubmitName}\r\n          card={deletedCard}\r\n          onConfirm={handleCardDelete}\r\n          onClose={() => setDeletedCard(null)}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import React, {useState} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as auth from '../utils/auth';\r\nimport Header from '../components/Header';\r\n\r\nconst Login = (props) => {\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if ( !email || !password ) {\r\n      return;\r\n    }\r\n    auth.authorize(email, password)\r\n      .then((data) => {\r\n        //console.log(data);\r\n        if (data.token) {\r\n          localStorage.setItem('jwt', data.token);\r\n          resetForm();\r\n          props.onLogin(email);\r\n          props.history.push('/home');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        props.onLogin(email, err);\r\n      });\r\n  }\r\n\r\n  return(\r\n    <div className=\"page\">\r\n      <Header>\r\n        <Link to=\"/signup\" className=\"nav-menu__link\">Регистрация</Link>\r\n      </Header>\r\n\r\n      <section className=\"sign\">\r\n        <form\r\n          name=\"form-login\"\r\n          className=\"sign__form\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <h3 className=\"sign__heading\">Вход</h3>\r\n\r\n          <label>\r\n            <input type=\"email\"\r\n              id=\"email\" name=\"email\"\r\n              className=\"sign__item\"\r\n              maxLength=\"40\" minLength=\"2\"\r\n              placeholder=\"Email\" required\r\n              value={email}\r\n              onChange={handleEmailChange}\r\n            />\r\n          </label>\r\n\r\n          <label>\r\n            <input type=\"password\"\r\n              id=\"password\" name=\"password\"\r\n              className=\"sign__item\"\r\n              maxLength=\"20\" minLength=\"6\"\r\n              placeholder=\"Password\" required\r\n              value={password}\r\n              onChange={handlePasswordChange}\r\n            />\r\n          </label>\r\n\r\n          <button type=\"submit\" className=\"sign__button\">\r\n              Войти\r\n          </button>\r\n\r\n          <p className=\"sign__text\">\r\n            Еще не зарегистрированы?\r\n            <Link to=\"/signup\" className=\"sign__link\"> Регистрация</Link>\r\n          </p>\r\n\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, {useState} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as auth from '../utils/auth';\r\nimport Header from '../components/Header';\r\n\r\nconst Register = (props) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if ( !email || !password ) {\r\n      return;\r\n    }\r\n\r\n    auth.register(email, password)\r\n      .then((res) => {\r\n        props.onRegister(201);\r\n        resetForm();\r\n        props.history.push('/signin');\r\n      })\r\n      .catch((err) => {\r\n        props.onRegister(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header>\r\n        <Link to=\"/signin\" className=\"nav-menu__link\">Войти</Link>\r\n      </Header>\r\n\r\n      <section className=\"sign\">\r\n        <form\r\n          name=\"form-register\"\r\n          className=\"sign__form\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <h3 className=\"sign__heading\">Регистрация</h3>\r\n\r\n          <label>\r\n            <input type=\"email\"\r\n              id=\"email\" name=\"email\"\r\n              className=\"sign__item\"\r\n              maxLength=\"40\" minLength=\"2\"\r\n              placeholder=\"Email\" required\r\n              value={email}\r\n              onChange={handleEmailChange}\r\n            />\r\n          </label>\r\n\r\n          <label>\r\n            <input type=\"password\"\r\n              id=\"password\" name=\"password\"\r\n              className=\"sign__item\"\r\n              maxLength=\"20\" minLength=\"6\"\r\n              placeholder=\"Password\" required\r\n              value={password}\r\n              onChange={handlePasswordChange}\r\n            />\r\n          </label>\r\n\r\n          <button type=\"submit\" className=\"sign__button\">\r\n              Зарегистрироваться\r\n          </button>\r\n\r\n          <p className=\"sign__text\">\r\n            Уже зарегистрированы?\r\n            <Link to=\"/signin\" className=\"sign__link\"> Войти</Link>\r\n          </p>\r\n\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport Header from '../components/Header';\r\n\r\nconst NotFound = () => {\r\n  return(\r\n    <div className=\"page\">\r\n      <Header />\r\n      <section className=\"not-found\">\r\n        <h3 className=\"not-found__title\">\r\n          Ошибка 404\r\n        </h3>\r\n        <p className=\"not-found__subtitle\">\r\n          Страница не найдена\r\n        </p>\r\n      </section>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default NotFound;","import React, {useState, useEffect} from 'react';\r\n\r\nconst InfoToolTip = (props) => {\r\n  const [popupOpenClass, setPopupOpenClass] = useState('');\r\n\r\n  const handleCloseClick = () => {\r\n    setPopupOpenClass('');\r\n    props.onClose();\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPopupOpenClass('popup_opened');\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`popup ${popupOpenClass}`}>\r\n      <div className=\"popup__container\">\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__btn popup__btn_action_close shaded\"\r\n          title=\"Закрыть форму\"\r\n          onClick={handleCloseClick}\r\n        />\r\n\r\n        <div className=\"popup__message-box\">\r\n          <img\r\n            className=\"popup__message-icon\"\r\n            src={props.imageLink}\r\n            alt={props.textMessage}\r\n          />\r\n          <p className=\"popup__message-text\">\r\n            {props.textMessage}\r\n          </p>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoToolTip;\r\n","export default __webpack_public_path__ + \"static/media/reg-success.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/reg-failure.d4ce2a26.svg\";","import React, {useState, useEffect} from 'react';\r\nimport {Switch, Route, Redirect, useHistory} from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport * as auth from '../utils/auth';\r\n\r\nimport HomePage from '../screens/HomePage';\r\nimport Login from '../screens/Login';\r\nimport Register from '../screens/Register';\r\nimport NotFound from '../screens/NotFound';\r\nimport InfoTooltip from '../components/InfoTooltip';\r\n\r\nimport regSuccess from '../images/reg-success.svg';\r\nimport regFailure from '../images/reg-failure.svg';\r\n\r\nconst App = () => {\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\r\n  const [resultMessage, setResultMessage] = useState({ image: null, text: '' });\r\n  const [email, setEmail] = useState('');\r\n\r\n  let history = useHistory();\r\n\r\n  const handlePopupClose = () => {\r\n    setIsPopupOpen(false);\r\n  };\r\n\r\n  const handleRegister = (resultCode) => {\r\n    let messageText = '', imageLink = null;\r\n\r\n    switch (resultCode) {\r\n      case 201:\r\n        messageText =\"Вы успешно зарегистрировались!\";\r\n        imageLink = regSuccess;\r\n        break;\r\n      case 400:\r\n        messageText = \"Ошибка 400, некорректно заполнено одно из полей\";\r\n        imageLink = regFailure;\r\n        break;\r\n      default:\r\n        messageText = \"Что-то пошло не так! Попробуйте ещё раз.\";\r\n        imageLink = regFailure;\r\n    }\r\n    setResultMessage({ image: imageLink, text: messageText });\r\n    console.log(messageText);\r\n    setIsPopupOpen(true);\r\n  };\r\n\r\n  const tokenCheck = () => {\r\n    if (localStorage.getItem('jwt')) {\r\n      const jwt = localStorage.getItem('jwt');\r\n      auth.checkToken(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            history.push('/home');\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleLogin = (email = '', resultCode = 200) => {\r\n    if (resultCode === 200) {\r\n      setLoggedIn(true);\r\n      setEmail(email);\r\n    } else {\r\n        let messageText = '', imageLink = null;\r\n        switch (resultCode) {\r\n          case 400:\r\n            messageText = \"Ошибка 400, не передано одно из полей\";\r\n            break;\r\n          case 401:\r\n            messageText = `Ошибка 401, пользователь ${email} не найден`;\r\n            break;\r\n          default:\r\n            messageText = \"Что-то пошло не так! Попробуйте ещё раз.\";\r\n        }\r\n        imageLink = regFailure;\r\n        setResultMessage({ image: imageLink, text: messageText });\r\n        console.log(messageText);\r\n        setIsPopupOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <ProtectedRoute\r\n          path=\"/home\"\r\n          loggedIn={loggedIn}\r\n          component={HomePage}\r\n          onLogout={handleLogout}\r\n          email={email}\r\n        />\r\n\r\n        <Route path=\"/signin\">\r\n          <Login onLogin={handleLogin} history={history} email={email}/>\r\n        </Route>\r\n\r\n        <Route path=\"/signup\">\r\n          <Register onRegister={handleRegister} history={history} />\r\n        </Route>\r\n\r\n        <Route exact path=\"/\">\r\n          {loggedIn ? <Redirect to=\"/home\" /> : <Redirect to=\"/signin\" />}\r\n        </Route>\r\n\r\n        <Route path=\"/react-mesto-auth\">\r\n          {loggedIn ? <Redirect to=\"/home\" /> : <Redirect to=\"/signin\" />}\r\n        </Route>\r\n        <Route path=\"*\">\r\n          <NotFound />\r\n        </Route>\r\n      </Switch>\r\n\r\n      {/* Вывод сообщения о результатах регистрации/авторизации */}\r\n      { isPopupOpen &&\r\n        <InfoTooltip\r\n          onClose={handlePopupClose}\r\n          imageLink={resultMessage.image}\r\n          textMessage={resultMessage.text}\r\n        />\r\n      }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}